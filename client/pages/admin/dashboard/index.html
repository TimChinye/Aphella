<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Aphella | Dashboard</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" href="../../../assets/Aphella Logo.png" type="image/png">

		<base href='/pages/admin/dashboard/'>

		<link rel="stylesheet" href="../../keyframes.css" />
		<link rel="stylesheet" href="../../global.css" />
		<link rel="stylesheet" href="./styles.css" />
    
    <script type="text/javascript" src="../../main.js"></script>
  </head>   
  <body>
    <aside>
        <div>
            <figure>
				        <a href="/"><img src="../../../assets/Aphella Logotype.png"></a>
                <hr>
                <ul>
                  <li class="active"><a href="/dashboard">Dashboard<img src="https://img.icons8.com/fluency-systems-regular/48/FF005D/dashboard-layout.png" /><img src="https://img.icons8.com/fluency-systems-filled/48/FFFFFF/dashboard-layout.png" /></a></li>
                  <li><a href="/communicate">Communicate<img src="https://img.icons8.com/fluency-systems-regular/48/FF005D/messaging-.png" /><img src="https://img.icons8.com/fluency-systems-filled/48/FFFFFF/messaging-.png" /></a></li>
                  <li><a href="/patients">Patients<img src="https://img.icons8.com/fluency-systems-regular/48/FF005D/triangular-bandage.png" /><img src="https://img.icons8.com/fluency-systems-filled/48/FFFFFF/triangular-bandage.png" /></a></li>
                  <li><a href="/staff">Staff<img src="https://img.icons8.com/fluency-systems-regular/48/FF005D/doctor-male.png" /><img src="https://img.icons8.com/fluency-systems-filled/48/FFFFFF/doctor-male.png" /></a></li>
                  <li><a href="/settings">Settings<img src="https://img.icons8.com/fluency-systems-regular/48/FF005D/settings--v1.png" /><img src="https://img.icons8.com/fluency-systems-filled/48/FFFFFF/settings--v1.png" /></a></li>
                  <li><a href="/logout">Log Out<img src="https://img.icons8.com/fluency-systems-regular/48/FF005D/exit--v1.png" /><img src="https://img.icons8.com/fluency-systems-filled/48/FFFFFF/exit--v1.png" /></a></li>
                </ul>
		      	</figure>
        </div>
        <footer>
            <p>Designed & Developed by <a href="https://timchinye.com/">Tim Chinye</a>.<br>Icons by <a href="https://icons8.com/">Icons8</a></p>
        </footer>
    </aside>

    <main>
      <figure id="loadingOverlay" onanimationstart="updateLoadingStatus(event)" onanimationiteration="updateLoadingStatus(event)">
        <div>
          <div class="dot union"></div>
          <div class="dot"></div>
          <div class="dot"></div>
          <div class="dot"></div>
          <div class="dot"></div>
        </div>
      </figure>

      <section>
        <div id="wrapper">
          <nav>
              <search>
                  <input type="search" placeholder="Search..." />
              </search>
              <div id="account">
                  <img src="https://img.icons8.com/fluency-systems-filled/48/CCCCCC/appointment-reminders.png" />
                  <span></span>
                  <div><img id="profile-pic" src="https://wallpapers.com/images/hd/generic-male-avatar-profile-2fudx37oj7ug3d8l.jpg"></div>
                  <div>
                      <h4 id="name">John Doe</h4>
                      <h6 id="role">Stakeholder</h6>
                  </div>
              </div>
          </nav>
          <header>
              <h1>Dashboard</h1>
              <div>
                  <button>Make an Appointment</button>
                  <button>Make a Request</button>
              </div>
          </header>
          <div id="layout-grid">
            <article id="admitted-patients">
                <h4>No of admitted patients</h4>
                <p>1070</p>
            </article>
            <article id="appointments-today">
                <h4>No of appointments today</h4>
                <p>613</p>
            </article>
            <article id="staff-on-duty">
                <h4>No of staff on duty</h4>
                <p>110</p>
            </article>
            <article id="staff-number">
                <h4>Total number of staff</h4>
                <p>110</p>
            </article>
            <article id="location-popularity">
              <h1>Location Popularity</h1>
              <figure><canvas></canvas></figure>
            </article>
            <article id="diagnosis-statistics">
              <h1>Diagnosis Statistics</h1>
              <figure><canvas></canvas></figure>
            </article>
            <article id="latest-patients">
              <h1>Latest Patients</h1>
              <table>
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Age</th>
                    <th>Preferred Language</th>
                    <th>Patient ID</th>
                    <th>Primary Doctor</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <picture>
                        <img src="https://i.pravatar.cc/150?u=4baaa9fa7ac0435059f7e984f496a7a4">
                        Katie Braxay
                      </picture>
                    </td>
                    <td>61</td>
                    <td>Assamese</td>
                    <td>438</td>
                    <td>Dr. Gbenga Akal</td>
                  </tr>
                  <tr>
                    <td>
                      <picture>
                        <img src="https://i.pravatar.cc/150?u=4baaa9fa7ac0435059f7e984f496a7a4">
                        Katie Braxay
                      </picture>
                    </td>
                    <td>61</td>
                    <td>Assamese</td>
                    <td>438</td>
                    <td>Dr. Gbenga Akal</td>
                  </tr>
                  <tr>
                    <td>
                      <picture>
                        <img src="https://i.pravatar.cc/150?u=4baaa9fa7ac0435059f7e984f496a7a4">
                        Katie Braxay
                      </picture>
                    </td>
                    <td>61</td>
                    <td>Assamese</td>
                    <td>438</td>
                    <td>Dr. Gbenga Akal</td>
                  </tr>
                </tbody>
              </table>
            </article>
            <article id="scheduled-appointments">
              <h1>Scheduled Appointments</h1>
              <div>
                <div class="info">
                  <h4>Patient X and Dr. Apple</h4>
                  <h6>At 8:32</h6>
                </div>
                <div class="actions">
                  <button>Postpone<img src="https://img.icons8.com/fluency-systems-regular/48/FF005D/overtime.png"></button>
                  <button>Re-schedule<img src="https://img.icons8.com/fluency-systems-regular/48/C40148/overtime.png"></button>
                </div>
              </div>
              <div>
                <div class="info">
                  <h4>Patient X and Dr. Apple</h4>
                  <h6>At 8:32</h6>
                </div>
                <div class="actions">
                  <button>Postpone<img src="https://img.icons8.com/fluency-systems-regular/48/FF005D/overtime.png"></button>
                  <button>Re-schedule<img src="https://img.icons8.com/fluency-systems-regular/48/C40148/overtime.png"></button>
                </div>
              </div>
              <div>
                <div class="info">
                  <h4>Patient X and Dr. Apple</h4>
                  <h6>At 8:32</h6>
                </div>
                <div class="actions">
                  <button>Postpone<img src="https://img.icons8.com/fluency-systems-regular/48/FF005D/overtime.png"></button>
                  <button>Re-schedule<img src="https://img.icons8.com/fluency-systems-regular/48/C40148/overtime.png"></button>
                </div>
              </div>
              <div>
                <div class="info">
                  <h4>Patient X and Dr. Apple</h4>
                  <h6>At 8:32</h6>
                </div>
                <div class="actions">
                  <button>Postpone<img src="https://img.icons8.com/fluency-systems-regular/48/FF005D/overtime.png"></button>
                  <button>Re-schedule<img src="https://img.icons8.com/fluency-systems-regular/48/C40148/overtime.png"></button>
                </div>
              </div>
              <div>
                <div class="info">
                  <h4>Patient X and Dr. Apple</h4>
                  <h6>At 8:32</h6>
                </div>
                <div class="actions">
                  <button>Postpone<img src="https://img.icons8.com/fluency-systems-regular/48/FF005D/overtime.png"></button>
                  <button>Re-schedule<img src="https://img.icons8.com/fluency-systems-regular/48/C40148/overtime.png"></button>
                </div>
              </div>
              <div>
                <div class="info">
                  <h4>Patient X and Dr. Apple</h4>
                  <h6>At 8:32</h6>
                </div>
                <div class="actions">
                  <button>Postpone<img src="https://img.icons8.com/fluency-systems-regular/48/FF005D/overtime.png"></button>
                  <button>Re-schedule<img src="https://img.icons8.com/fluency-systems-regular/48/C40148/overtime.png"></button>
                </div>
              </div>
            </article>
          </div>          
        </div>
      </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>
    <script type="text/javascript">
      const locationPopulElem = document.getElementById('location-popularity').getElementsByTagName('canvas')[0];
      let lpChart = new Chart(locationPopulElem, {
        type: 'bar',
        data: {
          labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun"],
          datasets: [{
            label: 'Fully Rounded',
            data: [10, 20, 15, 17, 13, 20],
            backgroundColor: '#ff80ae',
            borderRadius: Number.POSITIVE_INFINITY
          },
          {
            label: 'Small Radius',
            data: [10, 20, 15, 17, 13, 20],
            backgroundColor: '#d95a88',
            borderRadius: Number.POSITIVE_INFINITY
          },
          {
            label: 'Mid Radius',
            data: [10, 20, 15, 17, 13, 20],
            backgroundColor: '#a04062',
            borderRadius: Number.POSITIVE_INFINITY
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: true,
          interaction: {
            mode: 'nearest',
            axis: 'x',
            intersect: false
          },
          scales: {
            x: {
              border: {
                display: false
              },
              grid: {
                display: false
              }
            },
            y: {
              ticks: {
                stepSize: 5
              },
              border: {
                display: false
              },
              grid: {
                display: false
              }
            }
          },
          plugins: {
            legend: {
              display: false
            }
          }
        }
      });
      
      const diagnosisStatsElem = document.getElementById('diagnosis-statistics').getElementsByTagName('canvas')[0];
      let dsChart = new Chart(diagnosisStatsElem, {
        type: 'doughnut',
        data: {
          labels: ["Sprained ankle", "Migraine", "Influenza", "Pneumonia", "Concussion", "Seasonal allergies", "Food poisoning", "Common cold", "Stress-induced headache", "Muscle strain"],
          datasets: [{
            data: [1, 2, 3, 4, 5, 6, 7],
            backgroundColor: ["#FF2F73", "#FF5A89", "#FF85A0", "#FFAEB6", "#C4015E", "#C40175", "#800045"],
            borderWidth: 0,
            cutout: '70%',
            rotation: -30,
            radius: '90%',
            datalabels: {
              anchor: 'center',
              backgroundColor: null,
              borderWidth: 0
            }
          }]
        },
        plugins: [ChartDataLabels],
        options: {
          responsive: true,
          maintainAspectRatio: true,
          interaction: {
            mode: 'nearest',
            axis: 'x',
            intersect: false
          },
          plugins: {
            tooltip: {
              enabled: false
            },
            legend: {
              display: false
            },
            datalabels: {
              formatter: (value, ctx) => {
                let total = 0;
                ctx.chart.data.datasets[0].data.map(value => total += value);
                let percentage = value * 100 / total;
                return Number.parseFloat(percentage).toPrecision(3) + "%";
              },
              color: 'white',
              font: {
                weight: 'bold'
              }
            }
          }
        }
      });
    </script>

    <script type="text/javascript" src="./script.js"></script>
  </body>
</html>